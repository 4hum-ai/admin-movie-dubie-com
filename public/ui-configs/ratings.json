{
  "displayName": "Ratings",
  "description": "User ratings and reviews for titles",
  "icon": "star",
  "views": {
    "list": {
      "columns": [
        {
          "key": "profileId",
          "label": "Profile",
          "type": "ref",
          "refTo": "profiles",
          "sortable": true,
          "filterable": true,
          "width": "20%",
          "titleField": "profileId"
        },
        {
          "key": "titleId",
          "label": "Title",
          "type": "ref",
          "refTo": "titles",
          "sortable": true,
          "filterable": true,
          "width": "25%",
          "titleField": "titleId"
        },
        {
          "key": "ratingValue",
          "label": "Rating",
          "type": "number",
          "sortable": true,
          "filterable": true,
          "width": "12%",
          "align": "center",
          "formatter": "rating"
        },
        {
          "key": "review",
          "label": "Review",
          "type": "text",
          "width": "25%",
          "truncate": 50
        },
        {
          "key": "ratedAt",
          "label": "Rated At",
          "type": "date",
          "sortable": true,
          "width": "18%",
          "align": "center",
          "formatter": "date"
        }
      ],
      "defaultSort": { "field": "ratedAt", "direction": "desc" },
      "defaultFilters": [
        {
          "field": "profileId",
          "type": "ref",
          "refTo": "profiles",
          "label": "Profile"
        },
        {
          "field": "titleId",
          "type": "ref",
          "refTo": "titles",
          "label": "Title"
        },
        {
          "field": "ratingValue",
          "type": "select",
          "label": "Rating",
          "options": [
            { "value": "1", "label": "1 Star" },
            { "value": "2", "label": "2 Stars" },
            { "value": "3", "label": "3 Stars" },
            { "value": "4", "label": "4 Stars" },
            { "value": "5", "label": "5 Stars" },
            { "value": "6", "label": "6 Stars" },
            { "value": "7", "label": "7 Stars" },
            { "value": "8", "label": "8 Stars" },
            { "value": "9", "label": "9 Stars" },
            { "value": "10", "label": "10 Stars" }
          ]
        }
      ],
      "searchableFields": ["review"],
      "pageSize": 20,
      "actions": [
        {
          "name": "create",
          "label": "Add Rating",
          "type": "button",
          "icon": "plus",
          "variant": "primary",
          "permission": "ratings:create"
        },
        {
          "name": "view",
          "label": "View",
          "type": "button",
          "icon": "eye",
          "variant": "secondary",
          "permission": "ratings:read"
        },
        {
          "name": "edit",
          "label": "Edit",
          "type": "button",
          "icon": "edit",
          "variant": "secondary",
          "permission": "ratings:update"
        },
        {
          "name": "delete",
          "label": "Delete",
          "type": "button",
          "icon": "trash",
          "variant": "danger",
          "permission": "ratings:delete"
        }
      ]
    }
  },
  "detailView": {
    "sections": [
      {
        "title": "Rating Information",
        "fields": [
          {
            "key": "profileId",
            "label": "Profile",
            "type": "ref",
            "refTo": "profiles"
          },
          {
            "key": "titleId",
            "label": "Title",
            "type": "ref",
            "refTo": "titles"
          },
          {
            "key": "ratingValue",
            "label": "Rating",
            "type": "number",
            "formatter": "rating"
          },
          { "key": "review", "label": "Review", "type": "text" },
          {
            "key": "ratedAt",
            "label": "Rated At",
            "type": "date",
            "formatter": "date"
          }
        ]
      },
      {
        "title": "Timestamps",
        "fields": [
          {
            "key": "createdAt",
            "label": "Created At",
            "type": "date",
            "formatter": "date"
          },
          {
            "key": "updatedAt",
            "label": "Updated At",
            "type": "date",
            "formatter": "date"
          }
        ]
      }
    ]
  },
  "formView": {
    "fields": [
      {
        "key": "profileId",
        "label": "Profile",
        "type": "ref",
        "refTo": "profiles",
        "required": true,
        "placeholder": "Select profile"
      },
      {
        "key": "titleId",
        "label": "Title",
        "type": "ref",
        "refTo": "titles",
        "required": true,
        "placeholder": "Select title"
      },
      {
        "key": "ratingValue",
        "label": "Rating",
        "type": "number",
        "required": true,
        "min": 1,
        "max": 10,
        "placeholder": "Rate from 1 to 10"
      },
      {
        "key": "review",
        "label": "Review",
        "type": "textarea",
        "rows": 4,
        "placeholder": "Write your review here..."
      }
    ]
  }
}

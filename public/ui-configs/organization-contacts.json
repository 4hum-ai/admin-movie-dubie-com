{
  "displayName": "Organization Contacts",
  "description": "Manage contacts associated with organizations",
  "icon": "address-book",
  "views": {
    "list": {
      "columns": [
        {
          "key": "organizationId",
          "label": "Organization",
          "type": "ref",
          "refTo": "organizations",
          "sortable": true,
          "filterable": true,
          "width": "20%"
        },
        {
          "key": "contactId",
          "label": "Contact",
          "type": "ref",
          "refTo": "contacts",
          "sortable": true,
          "filterable": true,
          "width": "20%"
        },
        {
          "key": "role",
          "label": "Role",
          "type": "text",
          "sortable": true,
          "filterable": true,
          "width": "15%"
        },
        {
          "key": "department",
          "label": "Department",
          "type": "text",
          "sortable": true,
          "filterable": true,
          "width": "15%"
        },
        {
          "key": "isPrimary",
          "label": "Primary",
          "type": "boolean",
          "sortable": true,
          "filterable": true,
          "width": "8%",
          "align": "center"
        },
        {
          "key": "isBillingContact",
          "label": "Billing",
          "type": "boolean",
          "sortable": true,
          "filterable": true,
          "width": "8%",
          "align": "center"
        },
        {
          "key": "status",
          "label": "Status",
          "type": "text",
          "sortable": true,
          "filterable": true,
          "width": "10%",
          "align": "center",
          "formatter": "status"
        },
        {
          "key": "createdAt",
          "label": "Created",
          "type": "date",
          "sortable": true,
          "width": "12%",
          "align": "center",
          "formatter": "date"
        }
      ],
      "defaultSort": {
        "field": "createdAt",
        "direction": "desc"
      },
      "defaultFilters": [
        {
          "field": "status",
          "type": "select",
          "label": "Status",
          "options": [
            { "value": "active", "label": "Active" },
            { "value": "inactive", "label": "Inactive" },
            { "value": "archived", "label": "Archived" }
          ]
        },
        {
          "field": "isPrimary",
          "type": "select",
          "label": "Primary Contact",
          "options": [
            { "value": "true", "label": "Yes" },
            { "value": "false", "label": "No" }
          ]
        }
      ],
      "searchableFields": ["role", "department", "notes"],
      "pageSize": 20,
      "actions": [
        {
          "name": "create",
          "label": "Add Contact",
          "type": "button",
          "icon": "plus",
          "variant": "primary",
          "permission": "organization-contacts:create"
        },
        {
          "name": "view",
          "label": "View",
          "type": "button",
          "icon": "eye",
          "variant": "secondary",
          "permission": "organization-contacts:read"
        },
        {
          "name": "edit",
          "label": "Edit",
          "type": "button",
          "icon": "edit",
          "variant": "secondary",
          "permission": "organization-contacts:update"
        },
        {
          "name": "delete",
          "label": "Delete",
          "type": "button",
          "icon": "trash",
          "variant": "danger",
          "permission": "organization-contacts:delete"
        }
      ]
    },
    "kanban": {
      "groupByField": "status",
      "columns": [
        { "value": "active", "label": "Active", "color": "#22c55e" },
        { "value": "inactive", "label": "Inactive", "color": "#64748b" },
        { "value": "archived", "label": "Archived", "color": "#ef4444" }
      ],
      "cardTitleField": "contactName",
      "cardDescriptionField": "role"
    },
    "gallery": {
      "titleField": "contactName",
      "descriptionField": "role",
      "imageField": "contactAvatar"
    },
    "calendar": {
      "dateField": "createdAt",
      "titleField": "contactName",
      "colorField": "status",
      "descriptionField": "role"
    }
  },
  "detailView": {
    "sections": [
      {
        "title": "Contact Information",
        "fields": [
          {
            "key": "organizationId",
            "label": "Organization",
            "type": "ref",
            "refTo": "organizations"
          },
          {
            "key": "contactId",
            "label": "Contact",
            "type": "ref",
            "refTo": "contacts"
          },
          { "key": "contactName", "label": "Contact Name", "type": "text" },
          { "key": "contactEmail", "label": "Contact Email", "type": "text" }
        ]
      },
      {
        "title": "Role & Department",
        "fields": [
          { "key": "role", "label": "Role", "type": "text" },
          { "key": "department", "label": "Department", "type": "text" }
        ]
      },
      {
        "title": "Contact Types",
        "fields": [
          { "key": "isPrimary", "label": "Primary Contact", "type": "boolean" },
          {
            "key": "isBillingContact",
            "label": "Billing Contact",
            "type": "boolean"
          },
          {
            "key": "isTechnicalContact",
            "label": "Technical Contact",
            "type": "boolean"
          }
        ]
      },
      {
        "title": "Preferences",
        "fields": [
          {
            "key": "preferredContactMethod",
            "label": "Preferred Contact Method",
            "type": "text",
            "formatter": "badge"
          },
          { "key": "notes", "label": "Notes", "type": "text" }
        ]
      },
      {
        "title": "Status",
        "fields": [
          {
            "key": "status",
            "label": "Status",
            "type": "text",
            "formatter": "status"
          },
          {
            "key": "createdAt",
            "label": "Created",
            "type": "date",
            "formatter": "date"
          },
          {
            "key": "updatedAt",
            "label": "Updated",
            "type": "date",
            "formatter": "date"
          }
        ]
      }
    ]
  },
  "formView": {
    "fields": [
      {
        "key": "organizationId",
        "label": "Organization",
        "type": "resource",
        "resourceType": "organizations",
        "displayField": "name",
        "valueField": "id",
        "subtitleField": "type",
        "searchable": true,
        "searchPlaceholder": "Search organizations...",
        "required": true
      },
      {
        "key": "contactId",
        "label": "Contact",
        "type": "resource",
        "resourceType": "contacts",
        "displayField": "name",
        "valueField": "id",
        "subtitleField": "email",
        "searchable": true,
        "searchPlaceholder": "Search contacts...",
        "required": true
      },
      {
        "key": "role",
        "label": "Role",
        "type": "text",
        "placeholder": "Enter role (e.g., Manager, Director)"
      },
      {
        "key": "department",
        "label": "Department",
        "type": "text",
        "placeholder": "Enter department"
      },
      {
        "key": "isPrimary",
        "label": "Primary Contact",
        "type": "boolean"
      },
      {
        "key": "isBillingContact",
        "label": "Billing Contact",
        "type": "boolean"
      },
      {
        "key": "isTechnicalContact",
        "label": "Technical Contact",
        "type": "boolean"
      },
      {
        "key": "preferredContactMethod",
        "label": "Preferred Contact Method",
        "type": "select",
        "options": [
          { "value": "email", "label": "Email" },
          { "value": "phone", "label": "Phone" },
          { "value": "sms", "label": "SMS" }
        ]
      },
      {
        "key": "notes",
        "label": "Notes",
        "type": "textarea",
        "placeholder": "Enter any additional notes"
      },
      {
        "key": "status",
        "label": "Status",
        "type": "select",
        "options": [
          { "value": "active", "label": "Active" },
          { "value": "inactive", "label": "Inactive" },
          { "value": "archived", "label": "Archived" }
        ]
      }
    ]
  }
}
